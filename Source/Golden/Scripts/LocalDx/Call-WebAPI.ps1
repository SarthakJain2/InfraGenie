#require -Modules MSAL.PS
Param (
    [string] $Url,
    [string] $ClientId = "95677867-ccd5-4cbd-92d9-225f4af92473",
    [string] $ClientSecret = "3X98Q~fElHmd8DdGmryynBYJlRyJzqDtI6e.QbX.",
    [string] $TenantId = "74d68076-df31-4f01-a579-ac410e77334e"    
)

$token = "eyJ0eXAiOiJKV1QiLCJhbGciOiJSUzI1NiIsIng1dCI6Ii1LSTNROW5OUjdiUm9meG1lWm9YcWJIWkdldyIsImtpZCI6Ii1LSTNROW5OUjdiUm9meG1lWm9YcWJIWkdldyJ9.eyJhdWQiOiJodHRwczovL21hbmFnZW1lbnQuYXp1cmUuY29tIiwiaXNzIjoiaHR0cHM6Ly9zdHMud2luZG93cy5uZXQvNzRkNjgwNzYtZGYzMS00ZjAxLWE1NzktYWM0MTBlNzczMzRlLyIsImlhdCI6MTY3MjgwMTQ0OCwibmJmIjoxNjcyODAxNDQ4LCJleHAiOjE2NzI4MDUzNDgsImFpbyI6IkUyWmdZRGpXNmg0dXU5ZDViazM4RE9XNitiSDNBQT09IiwiYXBwaWQiOiI5NTY3Nzg2Ny1jY2Q1LTRjYmQtOTJkOS0yMjVmNGFmOTI0NzMiLCJhcHBpZGFjciI6IjEiLCJpZHAiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC83NGQ2ODA3Ni1kZjMxLTRmMDEtYTU3OS1hYzQxMGU3NzMzNGUvIiwiaWR0eXAiOiJhcHAiLCJvaWQiOiJmM2Q1NThjYi1jZmQyLTQyYzctYTVkZS02MThkMmNmNTAyODgiLCJyaCI6IjAuQVh3QWRvRFdkREhmQVUtbGVheEJEbmN6VGtaSWYza0F1dGRQdWtQYXdmajJNQk83QUFBLiIsInN1YiI6ImYzZDU1OGNiLWNmZDItNDJjNy1hNWRlLTYxOGQyY2Y1MDI4OCIsInRpZCI6Ijc0ZDY4MDc2LWRmMzEtNGYwMS1hNTc5LWFjNDEwZTc3MzM0ZSIsInV0aSI6IkZUYmJqbmx5VlV1MVhpSzFQOXVkQWciLCJ2ZXIiOiIxLjAiLCJ4bXNfdGNkdCI6MTY3MDQzNjM0Mn0.p1v4blXSblL5ouOquiYk-9AvHIogI6172p2WGba1vBNikeLgOXcS_mbbIkIRkIX2f6Ie16pMP3P0lLBuXE222qsKzSCaXlYlqqmgTvDuWttQqyyEjXHqWKy5RqW0JlNUVHNWxaOu5ImpLa5thGrYBEJyEHdhuXLYZWRAlybnpi3282jN6IeRG2p9a7MuzuE-nKhIK1KNYBLmd0qGVp_q-U-KEpDWeEB7cQ8Xv6qYy9f2Kzb231vupOaDXvxknrR6VSHveambEtlyYP1hBZpVICqANFyVXopp2d5hdMtA-PqLYhSyyDI6FvetIrAFeabxTHjpJc0a25L6_rqN_mDhgw"

$header = @{ Authorization = "Bearer {0}" -f $token }
Write-Host $header
Invoke-RestMethod -Method Get -Uri $Url -Headers $header


